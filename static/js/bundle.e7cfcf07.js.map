{"version":3,"sources":["webpack://webland/webpack/bootstrap","webpack://webland/./src/js/lazy_loading.js","webpack://webland/webpack/runtime/chunk loaded","webpack://webland/webpack/runtime/compat get default export","webpack://webland/webpack/runtime/define property getters","webpack://webland/webpack/runtime/hasOwnProperty shorthand","webpack://webland/webpack/runtime/jsonp chunk loading","webpack://webland/webpack/startup"],"names":["a","document","loadMore","fetch","method","res","querySelector","console","warn","imgIndex","l","window","lazyImgs","loadMorePosition","loadMoreHeight","pageYOffset","getContent","querySelectorAll","loadMap","winHeight","documentElement","lazyImgsPosition","img","lazyScrollCheck","addEventListener","loadMapPosition","loadMaoUrl","c"],"mappings":"MAIA,SAAS,EAAT,GAEA,WACA,cACA,iBAGA,YAGA,YAOA,OAHA,oBAGA,U,gbCZA,SAAAA,IAAA,iDAAAA,GAAA,cAAAA,EAAA,KAAAA,EAAA,oBACMC,uBAAL,mBACCC,sEAGDA,4BALDF,EAAA,OAMmBG,MAAK,uBAAyB,CAAEC,OAAQ,QAN3D,cAAAJ,EAAA,UAAAA,EAAA,qBAAAA,EAAA,OAQuBK,EARvB,gBAAAL,EAAA,KASEE,oCACAA,+BACAD,SAASK,cAAc,mBAAqBL,SAASK,cAAc,kBAAnEL,SAXFD,EAAA,sBAaEO,QAAQC,KAAK,SAbf,yBAAAR,EAAA,UAAAA,Q,sBAiBA,SAAS,IACR,IAAMS,EAAWC,EAAA,WAA2B,mBAAQC,mBAAR,OAC5C,GAAIF,IACCG,aAAJ,MACCA,SAAyBA,aAAzBA,IACAA,yCAEMF,EAAP,IAgBF,SAAS,IAAmB,IACrBG,EAAmBX,8BAAuCS,OAAhE,YACMG,EAAiBZ,EAAvB,aACIS,OAAOI,YAAX,OA3CcC,W,wBA4CbA,G,IArDIJ,EAAWX,SAASgB,iBAA1B,iBACMC,EAAUjB,SAASK,cAAzB,cACMJ,EAAWD,SAASK,cAA1B,eACMa,EAAYlB,SAASmB,gBAA3B,aAEMC,EAAN,GA4DA,EAAIT,UACHA,WAAiB,YACZU,UAAJ,MACCD,OAAsBC,8BAAkCX,OAAxDU,aACAE,QAOHZ,OAAOa,iBAAiB,UAnBxB,WACCvB,yDACCiB,qBAAD,YAtBD,WACC,IAAMO,EAAkBP,8BAAsCP,OAA9D,YACA,GAAIA,OAAOI,YAAX,IAAsD,CACrD,IAAMW,EAAaR,UAAnB,IADqD,IAGpDA,0JAEAA,6BAeF,GACChB,qBAAD,sBD3DD,KAwBA,M,MEzBA,IAAI,EAAJ,GACA,gBACA,OAOA,IADA,MACA,QAAgB,WAAqB,KAGrC,QAFA,YACA,KACA,IAAiB,WAAqB,MACtC,sDACA,iBAEA,KACA,YARqC,IAYrC,gBACA,OAGA,SAtBA,OACA,mBAA8B,iBAAwC,gBACtE,e,GCJA,QACA,sBACA,cACA,MAEA,OADA,OAAgC,MAChC,GCLA,YACA,eACA,qBACA,2BAAwC,0BCJxC,qD,MCKA,IAAI,EAAJ,CACA,OAaA,kB,IAGA,cAIA,KAHA,SAGA,IACA,WACA,WACA,aAKA,OAFA,KAEA,GADA,KACM,WAAoB,IAC1B,OACA,gBACA,UAEA,UAEA,OAGA,wDACA,UAAAyB,EAAA,cACA,OAAAA,EAAA,2B,GC3CA,gCACA,IAAI,EAAJ,gCACA,U","file":"static/js/bundle.e7cfcf07.js","sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","const lazyImgs = document.querySelectorAll('img[data-src]');\nconst loadMap = document.querySelector('._load-map');\nconst loadMore = document.querySelector('._load-more');\nconst winHeight = document.documentElement.clientHeight;\n\nconst lazyImgsPosition = [];\n\n// ====================================================================================== FUNCTIONS\n\nasync function getContent() {\n\tif (!document.querySelector('._loading-icon')) {\n\t\tloadMore.insertAdjacentHTML('beforeend',\n\t\t\t`<div class=\"_loading-icon\"></div>`);\n\t}\n\tloadMore.classList.add('_loading');\n\tconst res = await fetch('../content/more.html', { method: 'GET' });\n\tif (res.ok) {\n\t\tconst result = await res.text();\n\t\tloadMore.insertAdjacentHTML('beforeend', result);\n\t\tloadMore.classList.remove('_loading');\n\t\tdocument.querySelector('._loading-icon') && document.querySelector('._loading-icon').remove();\n\t} else {\n\t\tconsole.warn('Error');\n\t}\n}\n\nfunction lazyScrollCheck() {\n\tconst imgIndex = lazyImgsPosition.findIndex((el) => window.pageYOffset > el - winHeight);\n\tif (imgIndex >= 0) {\n\t\tif (lazyImgs[imgIndex].dataset.src) {\n\t\t\tlazyImgs[imgIndex].src = lazyImgs[imgIndex].dataset.src;\n\t\t\tlazyImgs[imgIndex].removeAttribute('data-src');\n\t\t}\n\t\tdelete lazyImgsPosition[imgIndex];\n\t}\n}\n\nfunction getMap() {\n\tconst loadMapPosition = loadMap.getBoundingClientRect().top + window.pageYOffset;\n\tif (window.pageYOffset > loadMapPosition - winHeight) {\n\t\tconst loadMaoUrl = loadMap.dataset.map;\n\t\tif (loadMaoUrl) {\n\t\t\tloadMap.querySelector('.map__body').insertAdjacentHTML('beforeend',\n\t\t\t\t`<iframe src=\"${loadMaoUrl}\" style=\"border:0;\" allowfullscreen=\"\" loading=\"lazy\"></iframe>`);\n\t\t\tloadMap.classList.add('_loaded');\n\t\t}\n\t}\n}\n\nfunction loadMoreContent() {\n\tconst loadMorePosition = loadMore.getBoundingClientRect().top + window.pageYOffset;\n\tconst loadMoreHeight = loadMore.offsetHeight;\n\tif (window.pageYOffset > (loadMorePosition + loadMoreHeight) - winHeight) {\n\t\tgetContent();\n\t}\n}\n\nfunction lazyScroll() {\n\tdocument.querySelectorAll('img[data-src]').length > 0 && lazyScrollCheck();\n\t!loadMap.classList.contains('_loaded') && getMap();\n\t!loadMore.classList.contains('_loading') && loadMoreContent();\n}\n\n// ====================================================================================== CODE\n\nif (lazyImgs.length > 0) {\n\tlazyImgs.forEach((img) => {\n\t\tif (img.dataset.src) {\n\t\t\tlazyImgsPosition.push(img.getBoundingClientRect().top + window.pageYOffset);\n\t\t\tlazyScrollCheck();\n\t\t}\n\t});\n}\n\n// ====================================================================================== EVENT\n\nwindow.addEventListener('scroll', lazyScroll);\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\t__webpack_require__.O();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebland\"] = self[\"webpackChunkwebland\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [981], () => (__webpack_require__(6981)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [981], () => (__webpack_require__(3799)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}